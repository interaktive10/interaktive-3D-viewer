<script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>

<script>
   function copyCode() {
    var range = document.createRange();
    range.selectNode(document.getElementById("modelUrl"));
    window.getSelection().addRange(range);
    document.execCommand("copy");
    var buttonValue = document.getElementById("embedButton").innerHTML;
    if(buttonValue ==="COPY EMBED CODE") 
        document.getElementById("embedButton").innerHTML = "COPIED";
    else
        document.getElementById("embedButton").innerHTML = "COPY EMBED CODE";
   }
</script>

<model-viewer src= <%= gltfsrc%> alt="A 3D model" ar ar-modes="webxr scene-viewer quick-look" environment-image="neutral" auto-rotate camera-controls></model-viewer>

<button onclick="copyCode()" id="embedButton">COPY EMBED CODE</button>
<div id="modelUrl">
    &lt;iframe src=<%= viewerLink%> width="600" height="600"&gt;&lt;/iframe&gt;
</div>

<style>
    model-viewer {
        height: 80%;
        width: 80%;
        margin: 0 auto;
    }
    #modelUrl{
        padding: 10px 10px;
        }
    #embedButton{
        padding: 10px 10px;
        border-radius: 15px 15px 15px 15px;
        border: 0;
        background-color: #47a5d2;
    }
</style>